{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "local>homelab/renovate-config"
  ],
  "baseBranchPatterns": ["main"],
  "assignAutomerge": true,
  "assignees": ["@sujiba-bot"],
  "reviewers": ["@sujiba"],
  "flux": {
    "managerFilePatterns": [
      "/bootstrap/.+\\.ya?ml$/",
      "/kubernetes/.+\\.ya?ml$/",
      "/talos/.+\\.ya?ml$/"
    ]
  },
  "helm-values": {
    "managerFilePatterns": [
      "/bootstrap/.+\\.ya?ml$/",
      "/kubernetes/.+\\.ya?ml$/",
      "/talos/.+\\.ya?ml$/"
    ]
  },
  "kubernetes": {
    "managerFilePatterns": [
      "/bootstrap/.+\\.ya?ml$/",
      "/kubernetes/.+\\.ya?ml$/",
      "/talos/.+\\.ya?ml$/"
    ]
  },
  "packageRules": [
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["bootstrap/hcloud/**"],
      "addLabels": ["cluster/hcloud"]
    },
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["kubernetes/hcloud/**"],
      "addLabels": ["cluster/hcloud"]
    },
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["talos/hcloud/**"],
      "addLabels": ["cluster/hcloud"]
    },
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["bootstrap/home/**"],
      "addLabels": ["cluster/home"]
    },
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["kubernetes/home/**"],
      "addLabels": ["cluster/home"]
    },
    {
      "description": "add cluster name to commit message",
      "matchFileNames": ["talos/home/**"],
      "addLabels": ["cluster/home"]
    }
  ]
}
